{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/services/gallery-api.js","Components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","photoName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","this","type","onChange","placeholder","Component","ImageGalleryItem","url","tags","s","src","alt","loader","photoname","color","height","width","timeout","nextName","fetch","then","res","ok","json","Promise","reject","Error","ImageGallery","photo","error","status","prevProps","prevState","prevName","API","catch","message","hits","map","image","webformatURL","id","App","loading","console","log","autoClose","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5993f5d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__-DduU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__34MoO\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__GRDHA\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default class Searchbar extends Component {\n  state = {\n    photoName: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ photoName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.photoName.trim() === '') {\n      toast('Enter name photo');\n      return;\n    }\n    this.props.onSubmit(this.state.photoName);\n    this.setState({ photoName: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.photoName}\n            onChange={this.handleNameChange}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ url, tags }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img src={url} alt={tags} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import Loader from 'react-loader-spinner';\nexport default function loader({ photoname }) {\n  //other logic\n\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n}\n","const getPhoto = nextName => {\n  return fetch(\n    `https://pixabay.com/api/?q=${nextName}&page=1&key=22354412-39f12e0c13d349d19862b3301&image_type=photo&orientation=horizontal&per_page=12\n`,\n    // `https://pixabay.com/api/?key=22354412-39f12e0c13d349d19862b3301&q=${nextName}&image_type=photo&per_page=12&page=1`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Нет такого имени ${nextName}`));\n  });\n};\n\nexport default { getPhoto };\n","import { Component } from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from '../Loader/Loader';\nimport API from '../services/gallery-api';\n\n// 'idle' - простой\n// 'pending' - ожидается\n// 'resolved' - віполнился ок\n// 'rejected' - отклонено\n\nexport default class ImageGallery extends Component {\n  state = {\n    photo: null,\n    error: null,\n    status: 'idle',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.photoName;\n    const nextName = this.props.photoName;\n\n    if (prevName !== nextName) {\n      // console.log('изменилось фото');\n      // console.log('prevProps.photoName', prevName);\n      // console.log('this.props.photoName', nextName);\n      this.setState({ photo: null, status: 'pending' });\n\n      API.getPhoto(nextName)\n        .then(photo => this.setState({ photo, status: 'resolved' }))\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n  render() {\n    const { photo, error, status } = this.state;\n    const { photoName } = this.props;\n    // const { photoName } = this.props;\n\n    if (status === 'idle') {\n      return <div>Ведите название!!!</div>;\n    }\n\n    if (status === 'pending') {\n      return <Loader />;\n      // <h1> Downloading... </h1>;\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <ul className={s.ImageGallery}>\n          {photo.hits &&\n            photo.hits.map(image => (\n              <ImageGalleryItem url={image.webformatURL} key={image.id} tags={image.tags} />\n            ))}\n        </ul>\n      );\n    }\n\n    // return (\n    //   <ul className=\"ImageGallery\">\n    //     {error && <h1>{error.message}</h1>}\n    //     {loading && <h1> Downloading... </h1>}\n    //     {!photoName && <div>Ведите название!!!</div>}\n    //     {/* {photo && <img src={photo.hits[0].webformatURL} alt={photo.tags} width=\"300\"></img>} */}\n\n    //     {photo && (\n    //       <ImageGalleryItem\n    //         url={photo.hits[1].webformatURL}\n    //         key={photo.id}\n    //         tags={photo.hits[1].tags}\n    //       />\n    //     )}\n    //   </ul>\n    // );\n  }\n}\n// { this.state.photo && }\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    photoName: '',\n    loading: false,\n  };\n\n  onSubmit = photoName => {\n    this.setState({ photoName });\n    console.log(photoName);\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {/* {this.state.loading && <h1> Downloading... </h1>} */}\n        <ImageGallery photoName={this.state.photoName} />\n\n        <ToastContainer autoClose={3000} position=\"top-left\" />\n      </>\n    );\n  }\n}\n\nexport default App;\n// { this.state.photo &&}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}